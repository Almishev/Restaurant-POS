# Документация за СУПТО сертифициране

## Ресторантска POS система

## Обща информация за софтуера

**Софтуер за управление на продажбите в търговски обект (СУПТО) - Ресторантска POS система**

**Версия:** 1.0.0
**Разработчик:** Антон Алмишев
**ЕИК:** [ЕИК номер]
**Адрес:** гр. Гоце Делчев

## Функционалност на системата

Настоящият софтуер представлява цялостна система за управление на ресторант, която включва:

1. **Управление на маси** - създаване, редактиране и проследяване на състоянието на масите в търговския обект
2. **Управление на поръчки** - добавяне на артикули към маси, изпращане към кухня/бар
3. **Управление на артикули** - създаване и редактиране на меню с категории и продукти
4. **Управление на продажби** - генериране на сметки и свързване с фискално устройство
5. **Отчетност** - X и Z отчети за дневен и периодичен оборот
6. **Сторно операции** - пълна поддръжка на сторно операции съгласно изискванията
7. **Потребителски роли** - диференциация на права между администратори и потребители (сервитьори)
8. **Управление на склад и рецепти** - проследяване на наличности и автоматично отписване

## Техническо описание на системата

### Архитектура

Системата е изградена на базата на съвременна уеб архитектура с отделен клиентски и сървърен компонент:

- **Frontend**: React.js приложение с потребителски интерфейс
- **Backend**: Node.js сървър с Express.js
- **База данни**: MongoDB, съхраняваща данни в нередактируем вид
- **Комуникация**: REST API между клиента и сървъра

### Фискална интеграция

Системата притежава пълна интеграция с фискални устройства, реализирана чрез специализирана услуга `fiscalService.js`:

1. **Фискализация на продажби** - при финализиране на сметка, системата автоматично издава фискален бон
2. **Сторно операции** - при извършване на сторно, системата издава сторно бон с позоваване на оригиналния фискален бон
3. **Z отчети** - поддръжка на дневна отчетност с фискалното устройство

### Съответствие с Наредба Н-18

Системата е проектирана в пълно съответствие с изискванията на Наредба Н-18 и включва:

1. **Уникални идентификатори** за всяка продажба и артикул
2. **Защита от промяна** на данните за продажби
3. **Съхранение на пълна одитна следа** за всички операции
4. **Проследимост на действията** на всеки потребител
5. **Функционалност за експорт** на данни във формат, изискван от НАП
6. **Защита от неоторизиран достъп** чрез потребителски профили с пароли
7. **Резервно копие** на данните и възможност за възстановяване

## Описание на потребителските роли

### Администратор

- Пълен достъп до всички функции на системата
- Управление на потребители и роли
- Създаване и редактиране на артикули и категории
- Достъп до всички отчети
- Управление на склада и рецепти
- Генериране на Z отчети

### Сервитьор/Потребител

- Управление на маси и поръчки
- Изпращане на поръчки към кухня/бар
- Генериране на сметки за клиенти
- Извършване на сторно операции (с ограничения)
- Достъп до собствени отчети за продажби

## Описание на процесите

### Процес на продажба

1. Избор на маса
2. Добавяне на артикули към поръчката
3. Изпращане на поръчка към кухня/бар
4. Проследяване на статуса на поръчката
5. Финализиране на сметка
6. Избор на начин на плащане
7. Фискализация и отпечатване на касов бон
8. Автоматично отписване на артикулите от склада

### Процес на сторно операция

1. Избор на оригинална сметка от списък
2. Избор на артикули за сторниране
3. Избор на причина за сторно
4. Потвърждение на сторно операция
5. Фискализация и отпечатване на сторно бон
6. Автоматично възстановяване на артикулите в склада

### Процес на отчетност

1. Генериране на X отчет (справка)
2. Генериране и архивиране на Z отчет
3. Филтриране по период и потребител
4. Експортиране на данни за НАП
5. Синхронизация с фискално устройство

## Защита на данните

### Сигурност на съхранение

1. Всички данни за продажби се съхраняват в нередактируем вид
2. Пълна одитна следа за всички операции
3. Криптирани пароли на потребителите
4. Защитен достъп до базата данни

### Архивиране и възстановяване

1. Автоматично периодично архивиране на данните
2. Възможност за възстановяване от архиви
3. Защита от загуба на данни при прекъсване на връзката

## Интеграция с други системи

1. **Фискални устройства** - директна връзка с фискални принтери
2. **Счетоводни системи** - възможност за експорт на данни
3. **НАП** - генериране на отчети в съответствие с изискванията

## Контакти и поддръжка

За въпроси, свързани със СУПТО сертификацията и функционалността на системата:

**Телефон:** [Вашият телефон]
**Имейл:** [Вашият имейл]
**Уебсайт:** [Вашият уебсайт]

---

_Настоящата документация е подготвена в съответствие с изискванията на Наредба Н-18 за целите на сертифициране на софтуера като СУПТО._
